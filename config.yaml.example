# nginx_updater 配置文件示例
# 将此文件复制到 /etc/nginx_updater/config.yaml 并根据实际情况修改

# Kubernetes 服务配置
Namespace: "higress-system"
ServiceName: "higress-gateway"
PortName: "http"  # 可选，如果不指定则使用服务的第一个端口

# Nginx 配置
NginxConf: "/etc/nginx/conf.d/upstream.conf"
ReloadCmd:
  - "nginx"
  - "-s"
  - "reload"

# 节点过滤配置
# 通过节点标签过滤节点，只选择具有指定标签的节点
# 如果 NodeLabelKey 和 NodeLabelVal 都为空，则选择所有节点
NodeLabelKey: "node-role.kubernetes.io/worker"  # 可选
NodeLabelVal: ""  # 可选，如果为空则匹配所有具有该 label key 的节点

# 节点状态过滤
# 如果设置为 true，则只选择 Ready 状态的节点
# 如果设置为 false，则选择所有节点（无论状态如何）
IgnoreNotReady: true  # 默认为 false

